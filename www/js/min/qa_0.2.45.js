if(typeof console=="undefined"){window.console={log:function(){}}}var oSL={Regform:function(){}};var $Y=YAHOO,$D=YAHOO.util.Dom,$C=$D.getElementsByClassName,$CONN=YAHOO.util.Connect,$=YAHOO.util.Dom.get,$LANG=YAHOO.lang,$COOKIE=YAHOO.util.Cookie,$J=YAHOO.lang.JSON,$W=YAHOO.widget,$L=YAHOO.log;LampcmsException=function(b,a){this.message=b;this.name=a||"LampcmsException"};oAjaxObject={handleSuccess:function(a){var i,k,j,h,b,f="",d=$("loginHead"),c=$LANG.trim(a.getResponseHeader["Content-Type"]);switch(c){case"text/json; charset=UTF-8":case"text/javascript; charset=UTF-8":try{k=$J.parse(a.responseText)}catch(g){alert("Invalid json data in responceText "+$LANG.dump(g)+" strContentType "+c+"<br>oRespnose: "+$LANG.dump(a.responseText))}switch(true){case k.hasOwnProperty("exception"):alert(k.exception);break;case k.hasOwnProperty("redirect"):window.location.assign(k.redirect);break;case k.hasOwnProperty("message"):d.innerHTML=k.message;oSL.fColorChange(d,"#00FF00","#FFFFFF");break;case k.hasOwnProperty("quickreg"):i=document.createElement("div");i.innerHTML=k.quickreg;document.body.appendChild(i);oSL.Regform.getInstance().show();break}break}},handleFailure:function(a){alert($LANG.dump(a))}};oSL={toString:function(){return"object oSL"},hideRegForm:function(){if(oSL.Regform){oSL.Regform.getInstance().hide();window.location.reload()}return false},getMeta:function(e,c){var d,b,a=document.getElementsByTagName("meta");if(!a){return false}for(b=0;b<a.length;b+=1){if(a[b].name&&(a[b].name===e)){if(c){d=a[b];return d}return a[b].content}}return false},getQuickRegForm:function(){var b,a=oSL.getMeta("web_root");if(oSL.Regform&&oSL.Regform.hasDialog()){oSL.Regform.getInstance().show()}else{b=a+"/getregform/";$CONN.asyncRequest("GET",b,oSL.oCallback)}},getToken:function(){var a=this.getMeta("version_id");return a},isLoggedIn:function(){var a,b=this.getMeta("session-uid");a=(b&&(b!=="")&&(b!=="0"));return a},oCallback:{success:oAjaxObject.handleSuccess,failure:oAjaxObject.handleFailure,scope:oAjaxObject},fAddIcon:function(d,a){var c=(typeof(d)==="string")?$(d):d;if(!this.eLoader){this.eLoader=document.createElement("img");this.eLoader.src=getMeta("web_dir")+"/images/ajax-loader.gif";this.eLoader.id="loadericon"}if(this.eLoader){if(a&&a===true){c.innerHTML=""}c.appendChild(this.eLoader)}},fRemoveIcon:function(){if(this.eLoader&&this.eLoader.parentNode){this.eLoader.parentNode.removeChild(this.eLoader)}},fCompareForms:function(a,b){if($CONN.setForm(a)===$CONN.setForm(b)){return true}return false},fColorChange:function(e,g,d){var a,b,f,c=(typeof e==="string")?$(e):e,d=(d&&typeof d==="string")?d:"#FF0000",g=(g&&typeof g==="string")?g:"#FFFFFF";if(c){b=$D.getStyle(c,"background-color");$D.setStyle(c,"background-color",g);a=new YAHOO.util.ColorAnim(c,{backgroundColor:{to:d}});f=function(){c.style.backgroundColor=b};a.onComplete.subscribe(f);a.animate()}},fParseQf:function(j){var f="",g,e=0,b,h,c=$("qfe");switch(true){case j.hasOwnProperty("exception"):if(j.hasOwnProperty("errHeader")){f+="<u>"+j.errHeader+"</u><br>"}c.innerHTML='<div id="qfErrors">'+f+j.exception+"</div>";break;case j.hasOwnProperty("errors"):if(j.hasOwnProperty("errHeader")){f+="<u>"+j.errors.errHeader+"</u><br>"}c.innerHTML='<div id="qfErrors">'+f+j.errors.errMessage+"</div>";this.aEls=[];for(h in j){if(j.hasOwnProperty(h)&&j[h].hasOwnProperty("err")){b=$("a"+h);if(b){b.style.backgroundColor="#FFFFCC";this.aEls.push(b)}}}this.fColorChange("qfmessage","#FF0000","#FFFFFF");break}if(oSL.oFrm&&oSL.oFrm.elBtnSubmit){oSL.oFrm.elBtnSubmit.disabled=false}var d=$("progressBar"),a=$("aavatar");if(d){d.parentNode.removeChild(d)}if(a){$D.setStyle(a,"display","block")}}};oSL.translate=(function(){return function(a){if(typeof oSL=="undefined"||typeof oSL.i18n==="undefined"||!(oSL.i18n.hasOwnProperty(a))){return a}return oSL.i18n[a]}})();oSL.tweet=(function(){var d;var c=oSL.getMeta("site_title");var e=oSL.getMeta("site_url");var b=oSL.getToken();var a=oSL.getMeta("form_action");return{getInstance:function(){var h,g,i,f,j;if(!d){if(!$("dialog1")){f='<div class="hd">Please enter your information</div><div class="bd"><hr/><form method="POST" action="'+a+'"><input type="hidden" name="a" value="tweet"><input type="hidden" name="token" value="'+b+'"><h3 class="tweetdlg">Tweet this:</h3><div class="clear"></div><textarea cols="44" rows="5" name="tweet">'+$("twinvite").title+" "+c+" "+e+'</textarea><div class="clear"></div></form>';h=document.createElement("div");h.id="dialog1";document.body.appendChild(h);h.innerHTML=f}d=new $W.Dialog("dialog1",{width:"30em",fixedcenter:true,visible:false,constraintoviewport:true,buttons:[{text:"Submit",handler:function(){this.submit()},isDefault:true},{text:"Cancel",handler:function(){this.cancel()}}]});d.beforeSubmitEvent.subscribe(function(){});d.callback={success:function(k){alert(oSL.translate("Tweet sent"))},failure:function(k){alert(oSL.translate("Tweet not sent"))}};d.setHeader("Invite Your Friends");d.render(document.body)}return d},destroy:function(){if(d){d.destroy()}},hide:function(){if(d){d.hide()}},setTextArea:function(f){},toString:function(){return"object oDialog created with oSL.dialog()"}}})();oSL.Regform=(function(){var f,k,e={},d,c=function(){this.submit()},j=function(){oSL.Regform.getPrompt().show()},h=function(){this.hide()},l=function(){var n=$("regext");if(n){$COOKIE.set("dnd","1",{path:"/"})}this.hide();oSL.Regform.getInstance().hide()},b=function(s){var n,p,t,r=oSL.Regform.getInstance();oSL.Regform.enableButtons();t=oSL.Regform.getInstance().getButtons();for(p=0;p<t.length;p+=1){}n=s.responseText;try{json=$J.parse(s.responseText);switch(true){case (json.hasOwnProperty("exception")):a(json);break;case (json.hasOwnProperty("action")&&(json.action==="done")):r.setHeader("Welcome!");r.setFooter("");r.setBody(json.body);break}}catch(q){alert("Invalid json data in responceText "+$LANG.dump(q)+"Respnose: "+$LANG.dump(s.responseText))}},g=function(n){oSL.Regform.enableButtons();oSL.Regform.getInstance().setBody("<p>Something is wrong</p>")},a=function(t){var o,r=$("form_error"),s,q=t.exception,n=oSL.Regform.getInstance(),p=n.form;r.innerHTML=q;oSL.fColorChange(r,"#FFFFFF","#FF0000");if(t.type&&("LampcmsCaptchaLimitException"===t.type)){$LANG.later(2000,n,"destroy")}if(t.hasOwnProperty("fields")){s=t.fields;for(o=0;o<s.length;o+=1){if(p.hasOwnProperty(s[o])){p[s[o]].style.backgroundColor="#CCFFCC"}}}if(t.hasOwnProperty("captcha")){if(t.captcha.public_key&&t.captcha.hncaptcha&&t.captcha.img){p.public_key.value=t.captcha.public_key;p.private_key.value="";p.hncaptcha.value=t.captcha.hncaptcha;$("imgcaptcha").innerHTML=t.captcha.img}}else{if(p.private_key&&t.type){p.private_key.disabled=true}}},i=[{text:"<-- "+oSL.translate("Return to page"),handler:function(){alert("this is "+this)},isDefault:true},{text:oSL.translate("Go to Profile editor")+" -->",handler:function(){alert("go to profile")}}],m=function(n){oSL.Regform.disableButtons()};return{getInstance:function(){if(!k){$D.removeClass("regdiv","yui-pe-content");k=new $W.Dialog("regdiv",{width:"50em",fixedcenter:"contained",visible:false,constraintoviewport:false,hideaftersubmit:false,draggable:true,close:false,modal:true,buttons:[{text:oSL.translate("Create New Account"),handler:c,isDefault:true},{text:oSL.translate("Cancel"),handler:j}]});k.callback={success:b,failure:g};k.validate=function(){var n,o,t,q,u=[],p=this.form,s=new Date(),r=this.getData();t=(0-(s.getTimezoneOffset()*60));if((p.tzo)&&(t)){p.tzo.value=t}o=function(A){var v="@",w=".",z=A.indexOf(v),x=A.length,y=A.indexOf(w);if(A.indexOf(v)===-1||A.indexOf(v)===0||A.indexOf(v)===x){return false}if(A.indexOf(w)===-1||A.indexOf(w)===0||A.indexOf(w)===x){return false}if(A.substring(z-1,z)===w||A.substring(z+1,z+2)===w){return false}if((A.indexOf(v)===-1)||(A.indexOf(v,(z+1))!==-1)||(A.indexOf(w,(z+2))===-1)||(A.indexOf(" ")!==-1)){return false}return true};switch(true){case (r.email===""):q=oSL.translate("Please enter email address");u.push("email");break;case (r.username===""):q=oSL.translate("Please enter Username");u.push("username");break;case (r.hasOwnProperty("private_key")&&(""===r.private_key)):q=oSL.translate("Please enter the text from image");u.push("private_key");break;case (!o(r.email)):q=oSL.translate("Email address appears to be invalid")+"<br>"+oSL.translate("Please enter a valid Email");u.push("email");break;default:return true}a({exception:q,fields:u});return false};k.asyncSubmitEvent.subscribe(function(p,n){var o=n[0];m()});k.render($("lastdiv"))}return k},toString:function(){return"object oSL.Regform"},getPrompt:function(){if(!d){d=new $W.SimpleDialog("simpledialog1",{width:"300px",fixedcenter:true,zindex:99,visible:false,draggable:false,close:true,modal:true,text:oSL.translate("Do you want to continue?"),icon:$W.SimpleDialog.ICON_ALARM,constraintoviewport:true,buttons:[{text:oSL.translate("Continue registration"),handler:h,isDefault:true},{text:oSL.translate("Exit registration"),handler:l}],effect:[{effect:$W.ContainerEffect.FADE,duration:0.2}]});d.setHeader(oSL.translate("Are you sure?"));d.render(document.body)}return d},disableButtons:function(){var o,n;if(k){n=k.getButtons();for(o=0;o<n.length;o+=1){n[o].set("disabled",true)}}},enableButtons:function(){var o,n;if(k){n=k.getButtons();for(o=0;o<n.length;o+=1){n[o].set("disabled",false)}}},setButtonsDone:function(){k.cfg.queueProperty("buttons",i)},destroy:function(){if(k){k.destroy()}},hasDialog:function(){if(k&&k.body){return true}return false}}})();YUI({}).use("node","dump","event","escape","gallery-storage-lite","gallery-overlay-extras","dd-plugin","anim","transition","yui2-container","yui2-editor","yui2-element","yui2-button","yui2-resize","yui2-animation","io-base","io-form","io-upload-iframe","json","jsonp","imageloader","autocomplete","autocomplete-filters","autocomplete-highlighters","gallery-node-tokeninput","cookie","cateditor",function(al,a3){var W=al.YUI2,ay=al.all(".ttt2"),q,T,ab={},H,aI,e,aX,a0,av,aU,j,ac,ao,aW,i,u,d,h,ai,R,am,z,aY,S,M,aj={},aM,aa,aT,aB,k,n,s,af,ap,aL,aN,I={},Z,G,ad=false,U=al.one("#body_preview"),ax=function(Y){return oSL.translate(Y)},aV=function(a8){var Y=new Date();a8+=" :: "+Y.toTimeString();if(U){U.set("innerHTML",a8)}},aQ=function(a8,Y){var a9="id_qbody";a8.addListener("toolbarLoaded",function(){a8.toolbar.addListener("insertimageClick",function(bc){var bb;try{bb=new W.util.Element(a9+"-panel");bb.on("contentReady",function(){try{var bf=W.util.Dom;if(!al.one("#"+a9+"_insertimage_upload")){var be=al.Node.create('<label><strong>Upload:</strong><input type="file" id="'+a9+'_insertimage_upload" name="'+Y+'" size="10" style="width: 300px" /></label>');var bh=al.one("#"+a9+"_insertimage_url");var bg=bh.ancestor("form");bg.set("encoding","multipart/form-data");al.one("#"+a9+"_insertimage_url").insert(be,"after");W.util.Event.on(a9+"_insertimage_upload","change",function(bl){var bj;W.util.Event.stopEvent(bl);var bi={method:"POST",form:{id:bg,upload:true}};bj=function(br,bq,bm){var br=br;var bo=bq.responseText;var bn;try{bn=al.JSON.parse(bo);if(bn.hasOwnProperty("upload")){if(bn.upload!=true){if(bn.hasOwnProperty("error")){alert(bn.error)}else{alert(ax("Upload failed"))}}else{if(!bn.hasOwnProperty("url")){alert(ax("Upload failed"))}else{al.one("#"+a9+"_insertimage_upload").set("value","");al.one("#"+a9+"_insertimage_url").set("value",bn.url);bf.get(a9+"_insertimage_url").focus();bf.get(a9+"_insertimage_upload").focus()}}}}catch(bp){alert(ax("Upload failed. Invalid response received from server"))}};al.on("io:complete",bj,al);var bk=al.io(e("web_root"),bi);return false})}}catch(bd){}})}catch(ba){}})})},y='<div id="comm_wrap_{divID}" class="fl cb{extraClass}"><form action="{web_root}/" id="add-comment-{formID}" class="comform" method="post"><input type="hidden" name="a" value="addcomment"><input type="hidden" name="rid" value="{resID}"><input type="hidden" name="parentid" value="{parentID}"><input type="hidden" name="token" value="{token}"><table class="cb fr tbl_comment"><tr><td width="60px" class="com_icons" valign="top"></td><td class="com_main"><textarea name="com_body" cols="60" rows="3" class="com_bo" style="display: block; padding: 2px;"></textarea></td><td class="com_button" valign="top"><input type="submit" name="doit" class="btn_comment" value="{comment}"></td></tr>{commentTip}</table></form></div>',a6=function(){al.StorageLite.on("storage-lite:ready",function(){var Y,a8=Q.saveHTML();b();ag();aK();al.StorageLite.setItem(B(),a8);aV("Draft saved..")})},aq='<tr><td></td><td colspan="2" class="lighttext">Enter at least 16 characters<br>Allowed mini-Markdown formatting: _italic_ and **bold**</td></tr>',A=al.one(".qa_form"),o,a4,K=null,O=1,az,t,aH,E,c,at,P={},Q,L,aD=[],B=function(){var Y;if(!A){return null}return A.get("name")},V=function(a8){al.Plugin.TokenInput.prototype._afterBlur=function(ba){var a9=this;if(this.get("tokenizeOnBlur")){setTimeout(function(){a9._tokenizeValue(null,null,{all:true})},100)}};var Y=(a8)?a8:al.one("#id_tags");if(Y){al.one(Y).plug(al.Plugin.TokenInput,{delimiter:" "}).plug(al.Plugin.AutoComplete,{resultListLocator:"ac",resultTextLocator:"tag",resultFilters:"charMatch",resultHighlighter:"charMatch",source:e("web_root")+"/taghint?q={query}&ajaxid=1&callback={callback}"})}},g=function(ba){var a9,Y,a8=/(\<em>|\<\/em>)/g;a9=/(\<strong>|\<\/strong>)/g;Y=ba.replace(a8,"_");Y=Y.replace(a9,"**");return Y},aF=function(){var Y=this.currentElement[0];Y=new al.Node(Y);if(Y&&Y.hasClass("yui-media")){Y.remove()}al.one("#embed_url").set("value","");al.Event.purgeElement("#btn_addvideo");this.nodeChange()},a7=function(bb){var a8,a9=0,ba={},Y=["source","protocol","authority","domain","port","path","directoryPath","fileName","query","anchor"];a8=new RegExp("^(?:([^:/?#.]+):)?(?://)?(([^:/?#]*)(?::(\\d*))?)?((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?").exec(bb);for(a9=0;a9<10;a9++){ba[Y[a9]]=(a8[a9]?a8[a9]:"")}if(ba.directoryPath.length>0){ba.directoryPath=ba.directoryPath.replace(/\/?$/,"/")}return ba},x=function(a9){var a8,bb,bc,Y=a7(a9),ba=/(?:v=)([^&\?]*)(?:[&]*)/gi;bc=Y.path;if(bc.length<2||(-1===bc.indexOf("/"))){return false}bc=bc.substr(1);if("watch"!==bc){if(/(\?|&)/.test(bc)){return false}return bc}else{if(!Y.hasOwnProperty("query")||!Y.query||Y.query.length<3){return false}else{a8=ba.exec(Y.query);if(!a8||a8.length<2||a8[1].length<1){return false}return a8[1]}}},au=function(){var a8,ba="http://gdata.youtube.com/feeds/api/videos/{id}?v=2&alt=jsonc&callback=",bb,Y,a9=(al.one("#embed_url"))?al.one("#embed_url").get("value"):null;bb=function(bf){var bc=Q._getDoc(),be,bh,bd,bk="",bj="",bg="Error returned from Youtube API. ",bi='<a href="http://youtu.be/{id}" class="ajax ytlink ttt" rev="{id}" title="{t}"><img src="http://i.ytimg.com/vi/{id}/default.jpg" alt="YouTube video" width="120px" height="90px"/></a>';bi+='<a href="http://youtu.be/{id}" class="ajax ytplay ttt" rev="{id}" title="{t}"><img src="'+e("web_dir")+'/images/play.png" alt="Play" width="44px" height="44px"/></a>';if(bf.error){if(bf.error["message"]){bg+=bf.error["message"];alert(bg);return}}else{bd=bf.data["id"];if(bf.data&&bf.data.title){bk=bf.data.title}if(bf.data&&bf.data.description){bj=bf.data.description}be=Q._swapEl(Q.currentElement[0],"div",function(bl){W.util.Dom.addClass(bl,"ajax");W.util.Dom.addClass(bl,"ytvideo");W.util.Dom.setStyle(bl,"width","120px");W.util.Dom.setStyle(bl,"height","90px");W.util.Dom.setStyle(bl,"min-height","90px");W.util.Dom.setStyle(bl,"margin-bottom","5px")});bh=al.Lang.sub(bi,{id:bd,t:bk});be.innerHTML=bh;be.parentNode.appendChild(bc.createElement("br"));Q.focus();Q.closeWindow();Q.get("panel").syncIframe()}};if(a9&&""!==a9){Y=x(a9);if(false===Y){alert(ax("URL of YouTube Video does not look correct"));return}a8=al.Lang.sub(ba,{id:Y});a8+="{callback}";al.jsonp(a8,bb)}},aw=function(){var Y,a8=new W.widget.EditorWindow("insertmedia",{width:"415px"});a8.setHeader("Add YouTube Video");this.openWindow(a8);al.on("click",au,"#btn_addvideo");this.on("afterOpenWindow",function(){this.get("panel").syncIframe()},this,true)},X=function(ba){var a9,Y,a8=/(\<em>|\<\/em>)/g;a9=/(\<strong>|\<\/strong>)/g;Y=ba.replace(a8,"_");Y=Y.replace("/(**)([^*]+)(**)/g","<strong>\\2</strong>");return Y},aO=function(a8){var Y;if(!P.hasOwnProperty(a8)){P[a8]=1}else{P[a8]=(P[a8]+1)}Y=(P[a8]<5);return Y},J=function(bb,bd){var bc,ba,a8=(bd)?bd:"Loading...",a9,Y;if(!H){H=new al.Overlay({centered:true,srcNode:"#loading",width:"100px",headerContent:"Loading...",bodyContent:"<img src='"+e("web_dir")+"/images/loading-bar.gif'>",zIndex:1000});al.one("#loading").removeClass("hidden");H.render()}H.set("headerContent",a8);if(bb&&(bb instanceof al.Node)){H.set("centered",bb)}else{H.set("centered",true)}H.set("constrain",true);H.show()},a2=function(Y){if(H){H.hide()}},p=function(){var a9,Y,a8=e("etag"),ba;if(a8){ba=e("qid");if(ba){Y=aN();a8=parseInt(a8,10);a9="q-"+ba+"_"+Y;al.StorageLite.setItem(a9,a8)}}},an=function(){var a8,Y,a9,ba=al.StorageLite,bb=al.one(".qlist");if(!bb){return}Y=bb.all(".qs");if(!Y||Y.size()===0){return}a8=aN();Y.each(function(){var bf,be,bd,bc;bf=this.get("id");be=this.getAttribute("lampcms:i_etag");bd=ba.getItem(bf+"_"+a8);if(bd){if(bd===be){this.one("a.ql").addClass("read");bc=this.one("span.ru");if(bc){bc.removeClass("unread");bc.addClass("read");bc.setAttribute("lampcms:ttt","No Unread Items. Click to toggle status")}}}})},ar=function(ba){var Y,bd,a9,bc,a8=aN(),bb;Y=(ba.test(".unread"))?"unread":"read";bc=ba.ancestor("div.qs");bd=bc.get("id");bb=bc.one("a.ql");a9=bc.getAttribute("lampcms:i_etag");a9=parseInt(a9,10);sKey=bd+"_"+a8;if("unread"===Y){bb.removeClass("unread").addClass("read");ba.removeClass("unread").addClass("read").setAttribute("lampcms:ttt","No Unread items. Click to toggle status");al.StorageLite.setItem(sKey,a9)}else{bb.removeClass("read").addClass("unread");ba.removeClass("read").addClass("unread").setAttribute("lampcms:ttt","Unread items. Click to toggle status");al.StorageLite.removeItem(sKey)}},w=function(Y){var a8,a9=Y.get("id");switch(true){case Y.test(".thumbupon"):Y.removeClass("thumbupon");Y.addClass("thumbup");break;case Y.test(".thumbup"):Y.removeClass("thumbup");Y.addClass("thumbupon");break;case Y.test(".thumbdownon"):Y.removeClass("thumbdownon");Y.addClass("thumbdown");break;case Y.test(".thumbdown"):Y.removeClass("thumbdown");Y.addClass("thumbdownon");break}if(aO(a9)){a8=al.io(Y.get("href"))}},a5=function(a9){var ba,bc,bb,Y,a8;bc=a9.ancestor("div");bb=a9.get("rev");a8='<iframe width="480" height="390" src="http://www.youtube.com/embed/'+bb+'?rel=0" frameborder="0" allowfullscreen></iframe>';bc.addClass("bg_black");ba=new al.Anim({node:bc,to:{width:480,height:390}});ba.set("duration",0.6);ba.set("easing",al.Easing.easeOut);ba.on("end",function(){ba.get("node").set("innerHTML",a8)});ba.run()},aE=function(ba){var a9,a8,Y,bb=ba.get("id");if(ba.test(".thumbupon")){return}ba.addClass("thumbupon");bb=bb.substr(7);a9=ba.ancestor("div");a8=a9.next(".c_likes");Y=a8.get("text");Y=(!Y)?0:parseInt(Y,10);a8.set("text",(Y+1));al.io(e("web_root")+"/likecomment/"+bb)},m=function(){oSL.getQuickRegForm()},aC=function(bb){var a8,ba,a9,Y;if(typeof FB==="undefined"){return}a8=e("site_title");ba=e("site_url");a9=bb.get("title");Y=e("site_description");FB.ui({method:"stream.publish",message:"I joined this site with Facebook Connect button. You should check it out too",attachment:{name:a8,caption:Y,description:a9,href:ba},action_links:[{text:a8,href:ba}],user_message_prompt:"Invite your Facebook Friends to join this site"},function(bc){})},ah=function(ba){var a9,Y,a8=ba.currentTarget;ba.halt();Y={method:"POST",form:{id:a8,useDisabled:true}};L.hide();J();a9=al.io(e("web_root"),Y)},ak=function(bc){var Y,a8,ba,bb,a9=bc.currentTarget;bc.halt();bc.preventDefault();Y=a9.one("textarea[name=com_body]");bb=Y.get("value").length;if(Y&&(bb<10)){alert("Comment must be at least 10 characters long");return}if(Y&&(bb>600)){alert("Comment must be at under 600 chars long. Please remove "+(bb-600)+" characters from your comment");return}a8={method:"POST",form:{id:a9,useDisabled:true}};if(L){L.hide()}J(a9.ancestor("div"));ba=al.io(e("web_root"),a8)},aG=function(be){var bb,Y,bf,bg,bc,ba,a9,bi,a8=be.currentTarget,bh=e("web_root"),bd=be.target;Y=a8.get("id");switch(true){case a8.test(".qpages"):if("A"===be.target.get("tagName")&&al.one(".paginated")){be.halt();a1(be.target)}break;case a8.test(".ext_api"):aY(a8);break;case a8.test("span.ru"):ar(a8);break;case a8.test(".vote"):be.halt();if(av()){w(a8)}break;case a8.test(".c_like"):be.halt();if(av()){aE(a8)}break;case a8.test(".ytlink"):case a8.test(".ytplay"):be.halt();a5(a8);break;case a8.test(".fbsignup"):k();break;case a8.test(".twsignin"):n.startDance();break;case a8.test(".add_tumblr"):n.startDance(bh+"/logintumblr",680,540);break;case a8.test(".add_linkedin"):n.startDance(bh+"/loginlinkedin",640,480);break;case a8.test(".googlelogin"):n.startDance(bh+"/logingoogle/",640,480);break;case a8.test(".add_blogger"):n.startDance(bh+"/connectblogger",680,540);break;case a8.test(".inreply"):(function(){var bl,bj,bk=a8.get("id");bk=bk.substr(8);bj=al.one("#comment-"+bk);bl=a8.ancestor("div.com_wrap");if(bj){if(bj.hasClass("parent_comment2")){bj.removeClass("parent_comment2");bj.removeClass("parent_comment");if(bl&&bl.hasClass("parent_comment2")){bl.removeClass("parent_comment2")}}else{bj.addClass("parent_comment2");if(bl){bl.addClass("parent_comment2")}}}})();break;case (Y==="fbinvite"):aC(a8);break;case (Y==="twinvite"):oTweet=oSL.tweet.getInstance();oTweet.show();break;case (a8.test(".change_image")):if(al.one("#avatar_upload")){al.one("#avatar_upload").removeClass("pic_upload")}break;case (Y==="logout"):be.preventDefault();be.halt();J(a8);a9=e("fbappid");if((typeof FB!=="undefined")&&a9&&FB.getAuthResponse()){FB.logout(function(bj){bi="fbsr_"+a9;al.Cookie.remove(bi);window.location.assign(bh+"/logout/")})}else{window.location.assign(bh+"/logout/")}break;case a8.test(".flag"):bb=a8.ancestor("div.controls");if(bb){bc=(bb.test(".question"))?"q":"a";ba=bb.get("id");ba=ba.substr(4)}else{bb=a8.ancestor("div.com_flag");if(bb){bc="c";ba=a8.get("id");ba=ba.substr(6)}}if(bb){S({rid:ba,rtype:bc})}break;case a8.test(".retag"):bb=a8.ancestor("div.controls");if(bb){ba=bb.get("id");ba=ba.substr(4);h(ba)}break;case a8.test(".sortans"):be.halt();aZ(a8);break;case a8.test(".stick"):window.location.assign(bh+"/stick/"+e("qid"));break;case a8.test(".unstick"):window.location.assign(bh+"/unstick/"+e("qid"));break;case a8.test(".close"):bb=a8.ancestor("div.controls");if(bb){ba=bb.get("id");ba=ba.substr(4);M(ba)}break;case a8.test(".del"):bb=a8.ancestor("div.controls");if(bb){ba=bb.get("id");ba=ba.substr(4);if(bb.test(".com_tools")){f(ba)}else{bg=(bb.test(".question"))?"q":"a";u({rid:ba,rtype:bg})}}break;case a8.test(".approve"):bb=a8.ancestor("div.controls");if(bb){ba=bb.get("id");ba=ba.substr(4);bg=(bb.test(".question"))?"q":"a";d(ba,bg,bb)}break;case a8.test(".edit"):bb=a8.ancestor("div.controls");if(bb){be.halt();be.preventDefault();ba=bb.get("id");ba=ba.substr(4);if(bb.test(".com_tools")){if(!aB(bb)){alert("You cannot edit comments that are older than "+e("comments_timeout")+" minutes");return}else{s(ba)}}else{bc=(bb.test(".question"))?"q":"a";window.location.assign(bh+"/edit/"+ba+"/"+bc)}}break;case a8.test(".com_link"):be.preventDefault();R(a8);break;case a8.test(".com_reply_link"):be.preventDefault();am(a8);break;case a8.test(".btn_shred"):if(av()){ai(a8.get("id"))}break;case a8.test(".btnfollow"):N(a8);break}},a1=function(a8){var Y,a9;a9=a8.ancestor("div.qpages");if(!a8.hasAttribute("href")){return}Y=a8.getAttribute("href");if(a9){J(a9);al.io(Y)}},aZ=function(bb){var a9,Y,ba,bd=bb.get("id"),be,a8=al.one("#qtypes"),bc=bb.ancestor("div").next("div.sortable")||al.one(".sortable");bd=bd.substr(5);if(bb.test(".qtype_current")){return}Y=bb.ancestor("div").one(".qtype_current");if(Y){ba=Y.get("id");if(!I.hasOwnProperty(ba)){I[ba]=bc.getContent()}}bb.siblings().removeClass("qtype_current");bb.addClass("qtype_current");if(I.hasOwnProperty(bd)&&I[bd].length>0){bc.setContent(I[bd]);Z.fetch()}else{J(bc);a9=bb.getAttribute("href");a9=("#"===a9)?e("web_root")+"/getanswers/"+e("qid")+"/sort/"+bd:a9;al.io(a9,{"arguments":{sortby:bd}})}},N=function(a9){if(!av()){return}a9.removeClass("unfollow");var ba,be,bg,a8,bc,bf="q",bb="on",Y,bd={q:"question",u:"user",t:"tag"};bc=a9.getAttribute("lampcms:follow");bf=a9.getAttribute("lampcms:ftype");ba=al.one("#flwr_"+aN());if(a9.test(".following")){bg=al.one("#res_"+bc);if(bg){if(bg.test(".uid-"+aN())){if(!confirm("Are you sure you want to unfollow your own question?")){a9.one("span.icoc").removeClass("del").addClass("check");a9.one("span.flabel").set("text","Following");return}}}be=(bf==="u")?"Follow":"Follow this "+bd[bf];a9.removeClass("following").addClass("follow");a9.set("title",be);a9.one("span.icoc").removeClass("check").addClass("cplus");a9.one("span.flabel").set("text",be);bb="off";if(ba){ba.hide("fadeOut")}}else{be="You are following this "+bd[bf];a9.removeClass("follow").addClass("following");a9.set("title",be);a9.one("span.icoc").removeClass("cplus").removeClass("del").addClass("check");a9.one("span.flabel").set("text","Following");bb="on";if(ba){ba.show("fadeIn")}}Y='<form name="form_f" action="'+e("web_root")+'/"><input type="hidden" name="a" value="follow"><input type="hidden" name="ftype" value="'+bf+'"><input type="hidden" name="follow" value="'+bb+'"><input type="hidden" name="f" value="'+bc+'"><input type="hidden" name="token" value="'+a0()+'">';Y=al.one("body").appendChild(Y);cfg={method:"POST",form:{id:Y}};request=al.io(e("web_root"),cfg);return},r=function(a9){var ba,a8,Y=a9.currentTarget;switch(true){case Y.test(".inreply"):ba=Y.get("id");ba=ba.substr(8);if(al.one("#comment-"+ba)){al.one("#comment-"+ba).addClass("parent_comment")}break;case Y.test(".following"):if(!Y.hasClass("unfollow")){Y.addClass("unfollow");Y.one("span.icoc").removeClass("check").addClass("del");Y.one("span.flabel").set("text","Unfollow")}break}},l=function(a9){var ba,a8,Y=a9.currentTarget;switch(true){case Y.test(".inreply"):ba=Y.get("id");ba=ba.substr(8);if(al.one("#comment-"+ba)){al.one("#comment-"+ba).removeClass("parent_comment")}break;case (Y.test(".following")):Y.removeClass("unfollow");Y.one("span.icoc").removeClass("dev").addClass("check");Y.one("span.flabel").set("text","Following");break}},aS=function(a8){var Y=(a8)?a8.all(".reveal"):al.all(".reveal");if(Y){Y.each(function(){if(this.test(".owner")){if(this.test(".oid-"+aN())){this.removeClass("hidden")}}else{this.removeClass("hidden")}})}},v=function(bi,a8,bc){a2();var a9,bb,bh,bg,be,bd,bf,Y=al.Lang.trim(a8.getResponseHeader("Content-Type"));if("text/json; charset=UTF-8"!==Y){alert("Invalid Content-Type header: "+Y);return}if(undefined===a8.responseText){alert("No text in response");return}try{a9=al.JSON.parse(a8.responseText)}catch(ba){alert("Error parsing response object"+ba+"<br>o.responseText: "+a8.responseText);return}if(a9.exception){if(a9.type&&"Lampcms\\MustLoginException"===a9.type){av(true)}else{alert(a9.exception)}}if(a9.alert){alert(a9.alert)}if(a9.success){alert(a9.alert)}if(a9.replace&&a9.replace.target&&a9.replace.content){al.one("#"+a9.replace.target).set("innerHTML",a9.replace.content);Z.fetch();aU();aS()}if(a9.reload){if(a9.reload>0){al.later(a9.reload,this,function(){window.location.reload(true)})}else{window.location.reload(true)}}if(a9.formError){if(al.one(".form_error")){al.one(".form_error").set("innerHTML",a9.formError)}else{alert(a9.formError)}return}if(a9.formElementError){aJ(a9.formElementError);return}if(a9.setmeta&&a9.setmeta.key&&a9.setmeta.val){aX(a9.setmeta.key,a9.setmeta.val)}if(a9.paginated){bh=al.one(".paginated");if(bh){bh.setContent(a9.paginated);Z.fetch();aU();return}}if(a9.comment&&a9.comment.res&&a9.comment.html){if(a9.comment.id&&al.one("#comment-"+a9.comment.id)){al.one("#comment-"+a9.comment.id).replace(a9.comment.html)}else{if(a9.comment.parent&&a9.comment.parent>0){if(al.one("#comm_wrap_"+a9.comment.parent)){al.one("#comm_wrap_"+a9.comment.parent).replace(a9.comment.html)}}else{al.one("#comm_wrap_"+a9.comment.res).remove();al.one("#comments-"+a9.comment.res).insert(a9.comment.html,al.one("#comments-"+a9.comment.res).one(".add_com"))}}return}if(a9.vote&&a9.vote.hasOwnProperty("v")&&a9.vote.rid){bg=al.one("#score"+a9.vote.rid);if(bg){bg.set("innerHTML",a9.vote.v)}}else{if(a9.redirect||a9.answer){al.StorageLite.removeItem(B());D();aR();aP();if(a9.redirect){aa("<h3>"+ax("Success")+"</h3>").set("bodyContent",ax("Item saved. Redirecting to")+' <br><a href="'+a9.redirect+'">'+a9.redirect+"</a>").show();al.later(1000,this,function(){window.location.assign(a9.redirect)})}if(al.one("#answers")){if(Q){Q.setEditorHTML("<br>")}al.one("#answers").append(a9.answer).scrollIntoView();if(typeof dp!=="undefined"){dp.SyntaxHighlighter.HighlightAll("code")}}}}},b=function(){var Y=al.one("#id_title");if(Y){al.StorageLite.setItem("title",Y.get("value"))}},aK=function(Y){var a9,a8=al.one("#categories_menu");if(a8){a9=a8.get("value")}if(a9){al.StorageLite.setItem("categ_id",a9)}},aP=function(){al.StorageLite.removeItem("categ_id")},ag=function(){var Y=al.one("#id_tags");if(Y){al.StorageLite.setItem("tags",Y.get("value"))}},D=function(){var Y=al.one("#id_title");if(Y){al.StorageLite.removeItem("title")}},aR=function(){var Y=al.one("#id_tags");if(Y){al.StorageLite.removeItem("tags")}},aJ=function(a9){var a8,Y;for(a8 in a9){if(a9.hasOwnProperty(a8)){Y=(al.one("#"+a8+"_e"));if(Y){Y.set("text",a9[a8])}else{Y=al.one(".form_error");if(Y){Y.set("text",a9[a8])}}if(Y){Y.scrollIntoView()}else{alert(a9[a8])}}}},F=function(Y,a8){a2();alert("Error occurred. Server returned status "+a8.status+" response: "+a8.statusText)};al.on("io:success",v);al.on("io:failure",F);aW=function(bd){var bb,Y,a9,be,a8,bc,ba=bd.currentTarget;be=ba.one("#id_title");a8=ba.one("#id_tags");bc=ba.one("#id_reason");if(bc&&(1>bc.get("value").length)){alert(ax("You must include reason for editing"));bd.halt();return}a9=j();a9=a9.replace(/"codepreview"/g,'"code"');ba.one("textarea[name=qbody]").set("value",a9);Y={method:"POST",form:{id:ba,useDisabled:true}};if(al.one("#dostuff")&&al.one("#dostuff").ancestor("div")){J(al.one("#dostuff").ancestor("div"))}bb=al.io(e("web_root"),Y);bd.halt();return false};var a=function(){var Y={type:"separator"};if("1"==e("btn_yt")){Y={type:"push",label:"Insert YouTube Video",value:"insertmedia",id:"btn_youtube"}}return Y};var aA=function(){var Y={type:"separator"};if(typeof dp!=="undefined"){Y={group:"sourcecode",label:"Code style",buttons:[{type:"select",label:"Select",value:"codestyle",disabled:true,menu:[{text:"None",value:"nocode",checked:true},{text:"JavaScript",value:"javascript"},{text:"HTML/XML",value:"xml"},{text:"CSS",value:"css"},{text:"Python",value:"python"},{text:"Ruby",value:"ruby"},{text:"PHP",value:"php"},{text:"C",value:"c"},{text:"C++",value:"cpp"},{text:"C#",value:"csharp"},{text:"Java",value:"java"},{text:"SQL",value:"sql"},{text:"VB",value:"vb"},{text:"Delphi",value:"delphi"}]}]}}return Y};var ae=function(){var a8,Y={type:"separator"};if(al.one("#id_qbody")&&al.all(".com_hand").isEmpty()){a8=aA();Q=new W.widget.Editor("id_qbody",{dompath:false,width:"660px",height:"140px",autoHeight:true,extracss:'pre { margin-left: 10px; margin-right: 10px; padding: 2px; background-color: #EEE; } a.ytplay{position: absolute; display: block; height: 44px; width: 44px; top: 23px; left: 38px;} .yui-media { height: 90px; width: 120px; border: 1px solid black; background-color: #f2f2f2; background-image: url( "'+e("web_dir")+'/images/media.gif" ); background-position: 45% 45%; background-repeat: no-repeat; }  .ytvideo {border: 1px solid black; cursor: pointer; position: relative; clear: both; margin-bottom: 5px;}',animate:true,toolbar:{buttons:[{group:"saveclear",label:"Save / New",buttons:[{type:"push",label:"Save Draft",value:"save"},{type:"push",label:"New Document",value:"clear"}]},{group:"textstyle",label:"Font Style",buttons:[{type:"push",label:"Bold CTRL + SHIFT + B",value:"bold"},{type:"push",label:"Italic CTRL + SHIFT + I",value:"italic"},{type:"push",label:"Underline CTRL + SHIFT + U",value:"underline"},{type:"push",label:"Strike Through",value:"strikethrough"}]},Y,{group:"blockquote",label:"Quote",buttons:[{type:"push",label:"Indent",value:"indent",disabled:true},{type:"push",label:"Outdent",value:"outdent",disabled:true}]},Y,{group:"indentlist",label:"Lists",buttons:[{type:"push",label:"Create an Unordered List",value:"insertunorderedlist"},{type:"push",label:"Create an Ordered List",value:"insertorderedlist"}]},Y,a8,Y,{group:"insertitem",label:"Link / Image",buttons:[{type:"push",label:"HTML Link CTRL + SHIFT + L",value:"createlink",disabled:true},{type:"push",label:"Insert Image",value:"insertimage",disabled:false},a()]},Y,{group:"undoredo",label:"Undo/Redo",buttons:[{type:"push",label:"Undo",value:"undo",disabled:true},{type:"push",label:"Redo",value:"redo",disabled:true}]}]}});if(false!==e("imgupload")){aQ(Q,"image")}Q.filter_safari=function(a9){if(this.browser.webkit){a9=a9.replace(/<span class="Apple-tab-span" style="white-space:pre">([^>])<\/span>/gi,"&nbsp;&nbsp;&nbsp;&nbsp;");a9=a9.replace(/Apple-style-span/gi,"");a9=a9.replace(/style="line-height: normal;"/gi,"");a9=a9.replace(/yui-wk-div/gi,"");a9=a9.replace(/yui-wk-p/gi,"");a9=a9.replace(/<li><\/li>/gi,"");a9=a9.replace(/<li> <\/li>/gi,"");a9=a9.replace(/<li>  <\/li>/gi,"");if(this.get("ptags")){a9=a9.replace(/<div([^>]*)>/g,"<p$1>");a9=a9.replace(/<\/div>/gi,"</p>")}}return a9};Q.on("windowinsertmediaClose",function(){aF.call(this)},Q,true);Q.cmd_insertmedia=function(){this.execCommand("insertimage","");var a9=this._swapEl(this.currentElement[0],"div",function(ba){ba.className="yui-media";W.util.Dom.setStyle(ba,"fontSize","100px")});this.currentElement=[a9];aw.call(this);return[false]};Q.on("toolbarLoaded",function(){this.on("afterNodeChange",function(bc){var bb=this.toolbar.getButtonByValue("insertmedia"),a9=this.toolbar.getButtonByValue("codestyle");if(a9){if(this._hasSelection()){this.toolbar.enableButton(a9)}else{this.toolbar.disableButton(a9)}}if(bb){if(this._hasSelection()){this.toolbar.disableButton("insertmedia")}else{this.toolbar.enableButton("insertmedia");var ba=this._getSelectedElement();ba=new al.Node(ba);if(ba.hasClass("yui-media")){this.toolbar.selectButton("insertmedia")}else{this.toolbar.deselectButton("insertmedia")}}}ao()},this,true);Q.toolbar.on("insertmediaClick",function(){var a9=Q._getSelectedElement();if(W.util.Dom.hasClass(a9,"yui-media")){Q.currentElement=[a9];aw.call(Q);return false}},this,true);this.on("editorKeyUp",function(){ao()});Q.toolbar.on("codestyleClick",function(bb){var be,a9,bc=this._getSelection(),bf,ba=Q._getSelectedElement(),bd=bb.button.value.toLowerCase();be=al.Escape.html(bc.toString());switch(true){case ("nocode"===bd&&Q._isElement(ba,"pre")):Q._swapEl(ba,"code");a9=Q.getEditorHTML();a9=a9.replace(/<code([^>]*)>/gi,"");a9=a9.replace(/<\/code>/gi,"");Q.setEditorHTML(a9);break;case (Q._isElement(ba,"pre")):ba.className=bd;break;default:Q.execCommand("inserthtml",'<pre alt="codepreview" class="'+bd+'">'+be+"</pre>")}return false},this,true);Q.toolbar.on("clearClick",function(){if(confirm(ax("Are you sure you want to reset the Editor?"))){Q.setEditorHTML("<br>");aV("Editor content cleared..")}});Q.toolbar.on("saveClick",a6)});Q.on("windowRender",function(){var a9=document.createElement("div");a9.innerHTML="<p>"+ax("Paste Link to YouTube Video here")+"</p>";a9.innerHTML+='<p>Click "Share" button on YouTube Video page<br>then copy the link from there and paste it into this form</p>';a9.innerHTML+='<div id="media_control"><form>'+ax("URL")+' <input id="embed_url" type="text" value="" size="30" style="font-size: 1.5em; padding: 2px;"></form></div>';a9.innerHTML+='<br><div id="media_cont" class="fl cb" style="margin-left: 35px;"><button id="btn_addvideo" type="button" style="padding: 4px; font-size: 1em; cursor: pointer;">'+ax("Add YouTube Video")+"</button></div><br>";a9.className="pad10";Q._windows.insertmedia={body:a9}});if(!al.one("#iedit")){al.later(5000,Q,function(){if(Q.editorDirty){Q.editorDirty=null;a6()}},{},true)}al.StorageLite.on("storage-lite:ready",function(){var be,bc,bd,bb,ba,a9=al.one("#id_qbody");ba=al.StorageLite.getItem(B());if(a9&&!al.one("#iedit")&&null!==ba&&""!==ba){a9.set("value",ba);if(al.one("#id_title")){be=al.StorageLite.getItem("title");bc=al.StorageLite.getItem("tags");bd=al.StorageLite.getItem("categ_id");if(be){al.one("#id_title").set("value",be)}if(bc){al.one("#id_tags").set("value",bc)}if(bd){bb=al.one('#categories_menu > option[value="'+bd+'"]');if(bb){bb.set("selected","selected")}}}aV(ax("Loaded content draft from Local Storage"))}else{aV(ax("Editor ready"))}Q.render()});j=function(){var bb,bc,ba,a9=Q.getEditorHTML();a9=Q.cleanHTML(a9);if(typeof dp!=="undefined"){a9=a9.replace(/alt="codepreview"/g,'rel="codepreview"');ba=document.createElement("div");ba.innerHTML=a9;bc=ba.getElementsByTagName("pre");for(bb=0;bb<bc.length;bb++){bc[bb].innerHTML="\n"+bc[bb].innerHTML.replace(/<br>/g,"\n")+"\n";bc[bb].innerHTML="\n"+bc[bb].innerHTML.replace(/&nbsp;/g," ")+"\n"}a9=ba.innerHTML}return a9};ac=al.one("#tmp_preview");ao=function(){ac=(ac)?ac:null;if(ac){ac.set("innerHTML",j())}if((typeof dp!=="undefined")&&dp.SyntaxHighlighter){dp.SyntaxHighlighter.HighlightAll("codepreview")}}}};S=function(ba){var Y,a8,a9="flagger";if(av()){if(ba.rtype&&"c"===ba.rtype){a9="flagcomment"}a8='<div id="div_flag" style="text-align: left"><form name="form_flag" action="'+e("form_action")+'"><input type="hidden" name="a" value="'+a9+'"><input type="hidden" name="rid" value="{rid}"><input type="hidden" name="token" value="'+a0()+'"><input type="hidden" name="qid" value="'+e("qid")+'"><input type="hidden" name="rtype" value="{rtype}"><input type="radio" name="reason" value="Spam"><label> '+ax("Spam")+'</label><br><input type="radio" name="reason" value="Inappropriate"><label> '+ax("Inappropriate")+'</label><br><hr><label for="id_note">'+ax("Comments?")+'</label><textarea name="note" cols="40" rows="2" style="display: block;"></textarea><input type="submit" class="btn" value="'+ax("Report")+'"></form></div>';a8=al.Lang.sub(a8,ba);Y=aa("<h3>"+ax("Report to moderator")+"</h3>");Y.set("bodyContent",a8);Y.show()}};M=function(a9){var Y,a8;if(av()){a8='<div style="text-align: left"><form name="form_close" id="id_close" action="'+e("web_root")+'/"><input type="hidden" name="a" value="close"><input type="hidden" name="token" value="'+a0()+'"><input type="hidden" name="qid" value="'+a9+'"><input type="radio" name="reason" value="Not a question" checked><label>'+ax("Not a real question")+'</label><br><input type="radio" name="reason" value="Off topic"><label>'+ax("Off Topic")+'</label><br><input type="radio" name="reason" value="Unproductive debate"><label>'+ax("Turned into unproductive debate")+'</label><br><input type="radio" name="reason" value="Duplicate"><label>'+ax("Duplicate question")+'</label><br><hr><label for="id_note">'+ax("Comments?")+'</label><textarea name="note" cols="40" rows="2" style="display: block;"></textarea><input type="submit" class="btn" value="'+ax("Close this question")+'"></form></div>';Y=aa("<h3>"+ax("Close this question")+"</h3>");Y.set("bodyContent",a8);Y.show()}};h=function(){var Y,a9,a8,ba="";if(av()){a8=al.all("td.td_question > div.tgs a");a8.each(function(){ba+=this.get("text")+" "});ba=al.Lang.trimRight(ba);a9='<div id="div_flag" style="text-align: left"><form name="form_flag" id="id_flag" action="'+e("form_action")+'"><input type="hidden" name="a" value="retag"><input type="hidden" name="token" value="'+a0()+'"><input type="hidden" name="qid" value="'+e("qid")+'"><hr><label for="id_note">'+ax("At least one tag, max 5 tags separated by spaces")+'</label><input type="text" class="ta1" id="id_retag" size="40" name="tags" value="'+ba+'"></input><br><input type="submit" class="btn" value="'+ax("Save")+'"></form></div>';Y=aa("<h3>"+ax("Edit Tags")+"</h3>");Y.set("bodyContent",a9);V(al.one("#id_retag"));Y.show()}};var f=function(bb){var bc,a9,ba,Y,a8;if(confirm(ax("Really delete this comment?"))){bc=al.one("#comment-"+bb);if(bc){ba='<form name="form_del" action="'+e("form_action")+'"><input type="hidden" name="a" value="deletecomment"><input type="hidden" name="rid" value="'+bb+'"><input type="hidden" name="token" value="'+a0()+'">';a9=bc.appendChild(ba);Y={method:"POST",form:{id:a9,useDisabled:true}};a8=al.io(e("web_root"),Y);bc.hide("fadeOut");al.later(1000,bc,function(){bc.remove()})}}};u=function(bb){var a8,a9,ba="",Y="delete";if(av()){if(bb.rtype&&"c"===bb.rtype){Y="deletecomment"}if(aT()){ba='<br><input type="checkbox" name="ban"><label> '+ax("Ban poster")+"</label><br>"}a9='<div id="div_del" style="text-align: left"><form name="form_del" action="'+e("web_root")+'/"><input type="hidden" name="a" value="'+Y+'"><input type="hidden" name="rid" value="{rid}"><input type="hidden" name="token" value="'+a0()+'"><input type="hidden" name="qid" value="'+e("qid")+'"><input type="hidden" name="rtype" value="{rtype}"><hr><label for="id_note">'+ax("Reason for delete")+'</label><textarea name="note" cols="40" rows="2" style="display: block;"></textarea>'+ba+'<br><input type="submit" class="btn" value="'+ax("Delete")+'"></form></div>';a9=al.Lang.sub(a9,bb);a8=aa("<h3>"+ax("Delete item")+"</h3>");a8.set("bodyContent",a9);a8.show()}};d=function(a8,bc,bb){var Y,ba,a9='<form name="form_approve" action="'+e("web_root")+'/"><input type="hidden" name="a" value="approve"><input type="hidden" name="rtype" value="'+bc+'"><input type="hidden" name="rid" value="'+a8+'"><input type="hidden" name="token" value="'+a0()+'">';a9=al.one("body").appendChild(a9);Y={method:"POST",data:"a=approve&rid="+a8+"&rtype="+bc+"&token="+a0()};J(bb);ba=al.io(e("web_root"),Y)};R=function(a9){var a8,Y,ba,bb,bc;bb=ap();Y=aN();a8=e("min_com_rep");if(av()){if(("1"===e("comment"))||(e("asker_id")==Y)||(bb>a8)||a9.test(".uid-"+Y)){bc=a9.get("id");bc=bc.substr(8);ba=al.one("#add-comment-"+bc);if(!ba){ba=al.Lang.sub(y,{extraClass:"",divID:bc,resID:bc,formID:bc,token:a0(),parentID:"0",comment:ax("comment"),commentTip:aq,web_root:e("web_root")});a9.insert(ba,"after")}else{if(ba._isHidden()){ba.show("fadeIn")}else{ba.hide("fadeOut",null,function(bd){+("3280 fadeout o is: "+bd+" this is: "+this,"warn")})}}}else{alert("You must have a reputation of at least <b>"+a8+"</b><br>to be able to add comments<br>Your current reputation is: <b>"+bb+"</b>");return}}};am=function(a9){var a8,Y,ba,bb,be,bd,bc;bb=ap();Y=aN();a8=e("min_com_rep");bd=a9.ancestor("div.com_wrap");be=bd.ancestor("div.comments").get("id");be=be.substr(9);if(av()){if(("1"===e("comment"))||(e("asker_id")==Y)||(bb>a8)||a9.test(".uid-"+Y)){bc=a9.get("id");bc=bc.substr(8);ba=al.one("#comm_wrap_"+bc);if(!ba){ba=al.Lang.sub(y,{extraClass:" com_wrap",divID:bc,resID:be,formID:bc,token:a0(),comment:ax("Reply"),commentTip:aq,web_root:e("web_root"),parentID:bc});bd.insert(ba,"after")}else{if(ba._isHidden()){ba.show("fadeIn")}else{ba.hide("fadeOut")}}}else{alert("You must have a reputation of at least <b>"+a8+"</b><br>to be able to add comments<br>Your current reputation is: <b>"+bb+"</b>");return}}};s=function(bb){var ba,a8,Y,a9;a8=al.one("#comment-"+bb);if(a8){Y=a8.one(".com_b");a9=Y.get("innerHTML");a9=g(a9);ba='<div id="comm_wrap_'+bb+'" class="fl cb"><form action="'+e("form_action")+'" id="edit-comment-'+bb+'" class="comform" method="post"><input type="hidden" name="a" value="editcomment"><input type="hidden" name="commentid" value="'+bb+'"><input type="hidden" name="token" value="'+a0()+'"><table class="cb fr tbl_comment"><tr><td width="60px" class="com_icons" valign="top"></td><td class="com_main"><textarea name="com_body" cols="60" rows="4" class="com_bo" style="display: block; padding: 2px;">'+a9+'</textarea></td><td class="com_button" valign="top"><input type="submit" name="doit" class="btn_comment" value="'+ax("Save")+'"></td></tr>'+aq+"</table></form></div>";a8.insert(ba,"replace")}};ai=function(Y){var a8=Y.substr(5);form='<div id="div_del" style="text-align: left"><form name="form_shred" id="id_shred" action="'+e("web_root")+'/"><input type="hidden" name="a" value="shred"><input type="hidden" name="uid" value="'+a8+'"><input type="hidden" name="token" value="'+a0()+'"><p>Shredding user will completely delete all posts made by the user<br>as well as all user tags<br>It will also change user status to *deleted*<br>and ban all IP addresses ever used by that user</p><p>Proceed only if you absolutely sure you want to do this<hr><input type="submit" class="btn_shred" value="'+ax("Shred User")+'"></form></div>';oAlert=aa("<h3>"+ax("Shred User")+"</h3>");oAlert.set("bodyContent",form);oAlert.show()};aX=function(a9,a8){var Y=e(a9,true);if(Y&&a8){Y.set("content",a8)}};av=function(a8){var Y;if(a8||!aL()){Y='<div class="larger"><p>'+ax("You must login to perform this action")+"</p><p>"+ax("Please login or")+' <a class="close" href="#" onClick=oSL.getQuickRegForm(); return false;>'+ax("Click here to register")+"</a></div>";aa(ax("Please Login")).set("bodyContent",Y).show();return false}return true};a0=function(){return e("version_id")};af=function(Y){aX("version_id",Y)};aN=function(){var Y;if(null===K){Y=e("session_uid");K=(!Y)?0:parseInt(Y,10)}return K};aL=function(){var Y,a8=aN();Y=(a8&&(a8!=="")&&(a8!=="0"));return Y};aT=function(){var Y;if(O<2){Y=e("role");if(Y&&(("administrator"===Y)||("moderator"===Y))){O=3}else{O=2}}return(3===O)};ap=function(){var Y;if(!a4){Y=e("rep");a4=(!Y)?1:parseInt(Y,10)}return a4};z=function(){var Y=al.all("div.controls");if(Y){Y.each(function(){if(this.test(".question")){if(aT()||this.test(".uid-"+aN())||(500<ap())){this.append(' <span class="ico retag ajax" title="'+ax("Retag")+'">'+ax("Retag")+"</span>")}if(!al.one("#closed")&&(aT()||this.test(".uid-"+aN()))){this.append(' <span class="ico close ajax"  title="'+ax("close")+'">'+ax("close")+"</span>")}if("administrator"===e("role")){if(!this.test(".sticky")){this.append(' <span class="ico stick ajax"  title="'+ax("Stick")+'">'+ax("Stick")+"</span>")}else{this.append(' <span title="'+ax("Unstick")+'" class="ico unstick ajax">'+ax("Unstick")+"</span>")}}}if(aT()||this.test(".uid-"+aN())||2000<ap()){if(aT()||this.test(".uid-"+aN())){this.append(' <span title="'+ax("Delete")+' " class="ico del ajax">'+ax("Delete")+"</span>")}if(!this.test(".com_tools")||aB(this)){this.append(' <span  title="'+ax("Edit")+' " class="ico edit ajax">'+ax("Edit")+"</span>")}}})}};aB=function(a8){var Y,ba,a9;if(aT()){return true}a9=e("comments_timeout");if(!a9){return true}a9=a9*60000;Y=a8.one("div.com_ts").get("title");if(!Y){return true}Y=new Date(Y);ba=((new Date()).getTime()-Y.getTime());if(ba>a9){return false}return true};k=function(){var a8,Y;if(typeof FB!=="undefined"){Y=e("fbperms");if(!Y){Y=""}if(aL()){a8=function(a9){if(a9.authResponse){if(a9.status==="connected"){J(null,"Connecting<br>Facebook account");al.io(e("web_root")+"/connectfb")}else{}}}}else{a8=function(a9){if(a9.authResponse&&a9.status==="connected"){window.top.location.reload(true)}else{}}}FB.login(a8,{scope:Y})}return};aa=function(Y){if(!L){L=new al.Overlay({srcNode:"#fbOverlay",width:"500px",height:"300px",zIndex:100,centered:true,constrain:true,render:true,visible:false,plugins:[{fn:al.Plugin.OverlayModal},{fn:al.Plugin.OverlayKeepaligned}]});al.one("#hide-fbOverlay").on("click",function(){L.hide()})}if(!Y){Y=ax("Alert")}L.set("headerContent","<h3>"+Y+"</h3>");return L};e=function(ba,a8){var Y,a9;if(!ab[ba]){a9=al.one("meta[name="+ba+"]");ab[ba]=a9}if(!ab[ba]){return false}if(a8){return ab[ba]}Y=ab[ba].get("content");return Y};aY=function(a8){var Y=e("web_root");if((a8.get("tagName")==="INPUT")&&a8.get("checked")){a6();switch(true){case ((a8.get("id")==="api_tweet")&&(!e("tw"))):n.startDance();break;case ((a8.get("id")==="api_facebook")&&("1"!==e("fb"))):k();break;case ((a8.get("id")==="api_tumblr")&&("1"!==e("tm"))):n.startDance(Y+"/logintumblr",800,540);break;case ((a8.get("id")==="api_linkedin")&&("1"!==e("linkedin"))):n.startDance(Y+"/loginlinkedin",640,480);break;case ((a8.get("id")==="api_blogger")&&("1"!==e("blgr"))):n.startDance(Y+"/connectblogger",680,540);break}}};G=function(){var a8,Y=e("max_comments");if(Y&&0<parseInt(Y,10)){a8=al.all("div.nocomments");if(a8){a8.removeClass("nocomments")}}};n={popupWindow:null,oInterval:null,startDance:function(a8,bc,bb){var be,ba,Y,bf,a9,bd=e("web_root");J();a9=(bc)?bc:800;bf=(bb)?bb:800;Y="location=0,status=0,width="+a9+",height="+bf+",alwaysRaised=yes,modal=yes";be=(!a8)?"http://"+window.location.hostname+bd+"/logintwitter/":a8;if(this.popupWindow&&!this.popupWindow.closed){this.popupWindow.location.href=be;this.popupWindow.focus();a2();return}this.popupWindow=window.open(be,"twitterWindow",Y);a2();if(!this.popupWindow){alert(ax("Unable to open login window. Please make sure to disable popup blockers in your browser"));return}if(this.oInterval){window.clearInterval(this.oInterval);this.oInterval=null}this.oInterval=window.setInterval(this.checkLogin,500)},checkLogin:function(){if(!n.popupWindow||n.popupWindow.closed){n.cancelIntervals();window.location.reload(true)}},cancelIntervals:function(){if(this.oInterval){window.clearInterval(this.oInterval);this.oInterval=null}},toString:function(){return"object Twitter"}};aU=function(){var Y=al.all(".ttt");if(Y&&Y.size()>0){if(q){q.destroy()}q=new W.widget.Tooltip("ttB",{context:Y._nodes,autodismissdelay:5500,width:"300px",hidedelay:350,xyoffset:[-10,-45],effect:{effect:W.widget.ContainerEffect.FADE,duration:0.2}})}};if(ay&&ay.size()>0){T=new W.widget.Tooltip("ttB2",{context:ay._nodes,autodismissdelay:5500,hidedelay:350,xyoffset:[-10,-45],effect:{effect:W.widget.ContainerEffect.FADE,duration:0.2}})}aM=function(){var a8,a9,Y=e("web_root"),ba=e("qid_prefix");if("1"===e("noac")){return}a8=al.one("#id_q");a9=al.one("#id_title");if(a8){a8.plug(al.Plugin.AutoComplete,{minQueryLength:3,resultHighlighter:"wordMatch",resultListLocator:"ac",resultTextLocator:"title",source:Y+"/titlehint?q={query}&ajaxid=1&callback={callback}"})}if(a9){a9.plug(al.Plugin.AutoComplete,{minQueryLength:3,resultHighlighter:"wordMatch",resultListLocator:"ac",resultTextLocator:"title",source:Y+"/titlehint?q={query}&ajaxid=1&callback={callback}",resultFormatter:function(bc,bb){return al.Array.map(bb,function(bd){var bf='<a href="'+Y+"/viewquestion/"+ba+'{_id}/{url}">{t}</a><br>{intro}<br><div class="c6">Asked {hts} (<span class="c_{status}">{i_ans} answer{ans_s})</span></div>';var be=bd.raw;return al.Lang.sub(bf,{_id:be._id,url:be.url,intro:be.intro,t:bd.highlighted,hts:be.hts,i_ans:be.i_ans,ans_s:be.ans_s,status:be.status})})}});a9.ac.on("select",function(bd){var bc,bb=bd.result;if(bb.raw&&bb.raw._id&&bb.raw.url){bd.preventDefault();bc=Y+"/viewquestion/"+ba+bb.raw._id+"/"+bb.raw.url;window.location.assign(bc)}})}};aU();ae();if(Q){}G();aS();an();p();at=al.all(".com_hand");if(at&&!at.isEmpty()){at.on("focus",m)}var C=function(a9){var a8,Y=e("web_root"),ba=window.location.href;a8=Y+"/locale/"+a9.currentTarget.get("value")+"/?redirect="+ba;window.location.assign(a8)};al.on("submit",aW,".qa_form");al.on("change",C,"#id_locale");if(al.hasOwnProperty("categoryEditor")){al.categoryEditor.Editor()}else{}al.delegate("click",aG,"body",".ajax");al.one("body").delegate("hover",r,l,".mo");al.delegate("submit",ah,"#fbOverlay","form");al.delegate("submit",ak,"#qview-body",".comform");al.delegate("click",function(){aa().hide()},"#fbOverlay","a.close");window.alert=function(a8){var Y=aa();Y.set("bodyContent",a8);Y.show()};if(al.one("#regdiv")){ad=al.Cookie.get("dnd");if(!ad){oSL.Regform.getInstance().show()}}Z=new al.ImgLoadGroup({foldDistance:2});Z.set("className","imgloader");aM();V();z();if(typeof dp!=="undefined"){dp.SyntaxHighlighter.HighlightAll("code")}});